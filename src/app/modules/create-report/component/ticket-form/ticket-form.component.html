<form (ngSubmit)="onSubmit()" #ticketForm="ngForm">
  <div class="form-group grid-container">
    <div class="grid-item">
      <label for="loggedInUserName">Submitted By</label>
      <input
        type="text"
        id="loggedInUserName"
        class="form-control"
        [(ngModel)]="userSearchTerm"
        name="loggedInUserName"
        (input)="onUserSearch()"
        [disabled]="userRole !== '1' && userRole !== '2'"
      />
      <div *ngIf="userSuggestions.length > 0" class="suggestions-dropdown">
        <ul>
          <li *ngFor="let user of userSuggestions" (click)="selectUser(user)">
            {{ user.userName }} ({{ user.userEmail }})
          </li>
        </ul>
      </div>
    </div>
    
    <!-- Category Selection -->
    <div class="grid-item">
      <label for="categoryID">Category</label>
      <select
        id="categoryID"
        class="form-control"
        [(ngModel)]="ticket.categoryID"
        name="categoryID"
        required
      >
        <option *ngFor="let category of categories" [value]="category.categoryID">
          {{ category.categoryName }}
        </option>
      </select>
    </div>

    <!-- Status Selection -->
    <div class="grid-item">
      <label for="statusID">Status</label>
      <select
        id="statusID"
        class="form-control"
        [(ngModel)]="ticket.statusID"
        name="statusID"
        required
      >
        <option *ngFor="let status of statuses" [value]="status.statusID">
          {{ status.statusName }}
        </option>
      </select>
    </div>

    <!-- Priority Selection -->
    <div class="grid-item">
      <label for="priorityID">Priority</label>
      <select
        id="priorityID"
        class="form-control"
        [(ngModel)]="ticket.priorityID"
        name="priorityID"
        required
      >
        <option *ngFor="let priority of priorities" [value]="priority.priorityID">
          {{ priority.priorityLevel }}
        </option>
      </select>
    </div>
  </div>

  <!-- Title Input -->
  <div class="form-group">
    <label for="title">Title</label>
    <input
      type="text"
      id="title"
      class="form-control"
      [(ngModel)]="ticket.title"
      name="title"
      required
    />
  </div>

  <!-- Description Input -->
  <div class="form-group">
    <label for="description">Description</label>
    <textarea
      id="description"
      class="form-control"
      [(ngModel)]="ticket.description"
      name="description"
      required
    ></textarea>
  </div>

  <!-- Submit Button -->
  <button type="submit" class="btn btn-primary">Create Ticket</button>
</form>
